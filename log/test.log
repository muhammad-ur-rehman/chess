  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (38.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "chess_board_test"[0m
  [1m[35m (126.6ms)[0m  [1m[35mCREATE DATABASE "chess_board_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "pawns" CASCADE[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "pawns" ("id" bigserial primary key, "x" integer, "y" integer, "face" character varying, "color" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20230802191901)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2023-08-04 05:13:29.989787"], ["updated_at", "2023-08-04 05:13:29.989787"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "89a13ccf0fec51b6879e7a26d0e5f7bd4a828e8c"], ["created_at", "2023-08-04 05:13:29.992304"], ["updated_at", "2023-08-04 05:13:29.992304"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 05:13:30.142925', '2023-08-04 05:13:30.142925'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 05:13:30.142925', '2023-08-04 05:13:30.142925')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.3ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_Pawn_position_changes_after_MOVE_command
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:31 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:31 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:31 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:31 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.8ms | Allocations: 690)
  Rendered pawns/_command_form.html.erb (Duration: 1.4ms | Allocations: 897)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3375)
  Rendered layouts/_flash.html.erb (Duration: 0.7ms | Allocations: 228)
  Rendered layout layouts/application.html.erb (Duration: 185.8ms | Allocations: 73898)
Completed 200 OK in 199ms (Views: 189.0ms | ActiveRecord: 0.0ms | Allocations: 83588)
Started GET "/assets/application-0218aea448b028b9f28c05e50d4a70371208d7df0b750a1d588352603603e40d.css" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/assets/application-55a093ad46d148497f6d6e257941e4841dd9612e02f59bb41100208c0a55ee94.js" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
Started PATCH "/chess/board/200/process-command" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"200"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001532a7840>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"200"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["x", 2], ["updated_at", "2023-08-04 05:13:32.284679"], ["id", 200]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 2.1ms | Allocations: 1387)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.5ms | Allocations: 4052)
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
PawnTest: test_Showing_game_right
---------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1581)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2151)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PawnTest: test_Report_shown_in_notification_on_command_REPORT
-------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.2ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.7ms | ActiveRecord: 0.0ms | Allocations: 2148)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:32 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"REPORT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000153b853b8>, params: {"_method"=>"patch", "command"=>"REPORT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 189)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 466)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1743)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_There_is_no_Command_Allowed_before_Place
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691126013], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1691126013], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 05:13:33.330010"], ["updated_at", "2023-08-04 05:13:33.330010"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1585)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms | Allocations: 2693)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTI2MDEz
Started PATCH "/chess/board/1691126013/process-command" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"1691126013"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691126013], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000015241ac00>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691126013"} }[0m
Redirected to http://127.0.0.1:61890/
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 702)
Started GET "/" for 127.0.0.1 at 2023-08-04 10:13:33 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691126013], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 182)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.8ms | Allocations: 669)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1625)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 0.2ms | Allocations: 2295)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh4TmpreE1USTJNREV6Ig==--b62c8f801ffeb432480b851b8ba1599281f0469c3a8a61f4e11e68acd59dd697"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTI2MDEz
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTI2MDEz
Started PATCH "/chess/board/1691126013/process-command" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "id"=>"1691126013"}
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691126013], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001544b52f8>, params: {"_method"=>"patch", "command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691126013"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "y" = $2, "face" = $3, "color" = $4, "updated_at" = $5 WHERE "pawns"."id" = $6[0m  [["x", 0], ["y", 0], ["face", "NORTH"], ["color", "WHITE"], ["updated_at", "2023-08-04 05:13:38.621154"], ["id", 1691126013]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.4ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.4ms | Allocations: 1548)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTI2MDEz
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PawnTest: test_shows_notification_on_command
--------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1581)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2138)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 10:13:38 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000153044b70>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 05:13:38.989483"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 1569)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PawnTest: test_Submitting_MOVE_command
--------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2150)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000015357e000>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "y" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["y", 1], ["updated_at", "2023-08-04 05:13:39.377456"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 2133)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PawnTest: test_Showing_pawn_face
--------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1581)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2146)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PawnTest: test_There_is_no_Pawn_on_new_game
-------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 9681], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 9681], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 9681], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 05:13:39.870901"], ["updated_at", "2023-08-04 05:13:39.870901"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1585)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.8ms | Allocations: 2971)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi85Njgx
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi85Njgx
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PawnTest: test_direction_changes_after_LEFT_command
---------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:39 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2142)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 10:13:40 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000015448ee50>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 05:13:40.229066"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1747)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PawnTest: test_Error_shows_after_wrong_command
----------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2167)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"RIGHTII", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.6ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000150aa5d38>, params: {"_method"=>"patch", "command"=>"RIGHTII", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
Redirected to http://127.0.0.1:61890/
Completed 302 Found in 2ms (ActiveRecord: 0.6ms | Allocations: 1087)
Started GET "/" for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 630)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1585)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2163)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh5TURFIg==--7cb5340c691a723799fd64081e3547b52745e977e093a941b68c9e44f68c4251"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 10:13:41 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 05:15:13.070507', '2023-08-04 05:15:13.070507'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 05:15:13.070507', '2023-08-04 05:15:13.070507')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_color_value
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_face_value
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_x_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_y_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PawnTest: test_should_be_valid_with_valid_attributes
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
PawnTest: test_should_be_valid_with_nil_attributes
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ChessServiceTest: test_place_method_updates_the_position_and_direction
----------------------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ChessServiceTest: test_move_method_updates_the_position
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ChessServiceTest: test_right_method_updates_the_direction
---------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ChessServiceTest: test_left_method_updates_the_direction
--------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (4.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 06:19:37.331967', '2023-08-04 06:19:37.331967'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 06:19:37.331967', '2023-08-04 06:19:37.331967')[0m
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PawnTest: test_There_is_no_Pawn_on_new_game
-------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PawnTest: test_direction_changes_after_LEFT_command
---------------------------------------------------
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_There_is_no_Command_Allowed_before_Place
-------------------------------------------------------
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_Pawn_position_changes_after_MOVE_command
-------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
PawnTest: test_Showing_game_right
---------------------------------
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PawnTest: test_Report_shown_in_notification_on_command_REPORT
-------------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PawnTest: test_Showing_pawn_face
--------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PawnTest: test_Error_shows_after_wrong_command
----------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PawnTest: test_Submitting_MOVE_command
--------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PawnTest: test_shows_notification_on_command
--------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 06:49:09.144553', '2023-08-04 06:49:09.144553'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 06:49:09.144553', '2023-08-04 06:49:09.144553')[0m
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (10.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PawnTest: test_Submitting_MOVE_command
--------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:10 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:10 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:10 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:10 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.6ms | Allocations: 690)
  Rendered pawns/_command_form.html.erb (Duration: 1.0ms | Allocations: 800)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2884)
  Rendered layouts/_flash.html.erb (Duration: 0.4ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 141.8ms | Allocations: 35319)
Completed 200 OK in 151ms (Views: 144.0ms | ActiveRecord: 0.0ms | Allocations: 42257)
Started GET "/assets/application-50d943b05f51ff35937f569e67bb41b013d8f148b361e231068460b6f4c6b44a.css" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/assets/application-df693fa9bf0f2e1b560e900d925434a7ed336e7e18e3dbe8a66cf81e0d8ca961.js" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001276ca818>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "y" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["y", 1], ["updated_at", "2023-08-04 06:49:11.133799"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 3.9ms | Allocations: 1062)
Completed 200 OK in 9ms (Views: 4.8ms | ActiveRecord: 0.9ms | Allocations: 4640)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PawnTest: test_shows_notification_on_command
--------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.7ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.3ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.4ms | ActiveRecord: 0.0ms | Allocations: 2160)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000013288ad78>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 06:49:11.450287"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.6ms | Allocations: 2215)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PawnTest: test_There_is_no_Pawn_on_new_game
-------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 44761], ["LIMIT", 1]]
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 44761], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.3ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 44761], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 06:49:11.721979"], ["updated_at", "2023-08-04 06:49:11.721979"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.9ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.5ms | Allocations: 1585)
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 1.2ms | Allocations: 3103)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi80NDc2MQ
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi80NDc2MQ
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
PawnTest: test_Showing_game_right
---------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2148)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:11 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PawnTest: test_Error_shows_after_wrong_command
----------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2154)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"RIGHTII", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000126b580e8>, params: {"_method"=>"patch", "command"=>"RIGHTII", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
Redirected to http://127.0.0.1:62570/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 1144)
Started GET "/" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 677)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1633)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2268)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh5TURFIg==--7cb5340c691a723799fd64081e3547b52745e977e093a941b68c9e44f68c4251"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_There_is_no_Command_Allowed_before_Place
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691131752], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.3ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1691131752], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 06:49:12.637651"], ["updated_at", "2023-08-04 06:49:12.637651"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 271)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 634)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1588)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 2584)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMxNzUy
Started PATCH "/chess/board/1691131752/process-command" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"1691131752"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691131752], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001271d4700>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691131752"} }[0m
Redirected to http://127.0.0.1:62570/
Completed 302 Found in 1ms (ActiveRecord: 0.3ms | Allocations: 1093)
Started GET "/" for 127.0.0.1 at 2023-08-04 11:49:12 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691131752], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 182)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 623)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 2216)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh4TmpreE1UTXhOelV5Ig==--a0fd9189991c7d3b8940eaee409d9e5c5e97d93830ad483cba6a5f8bde758400"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMxNzUy
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMxNzUy
Started PATCH "/chess/board/1691131752/process-command" for 127.0.0.1 at 2023-08-04 11:49:17 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "id"=>"1691131752"}
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691131752], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000127d56b28>, params: {"_method"=>"patch", "command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691131752"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "y" = $2, "face" = $3, "color" = $4, "updated_at" = $5 WHERE "pawns"."id" = $6[0m  [["x", 0], ["y", 0], ["face", "NORTH"], ["color", "WHITE"], ["updated_at", "2023-08-04 06:49:17.857615"], ["id", 1691131752]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1574)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:17 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMxNzUy
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PawnTest: test_Report_shown_in_notification_on_command_REPORT
-------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2151)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"REPORT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.5ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000130928908>, params: {"_method"=>"patch", "command"=>"REPORT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 189)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 466)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 1751)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PawnTest: test_direction_changes_after_LEFT_command
---------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2151)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 11:49:18 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001328e2cf8>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 06:49:18.653391"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1572)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_Pawn_position_changes_after_MOVE_command
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2165)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:19 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
Started PATCH "/chess/board/200/process-command" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"200"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000132a4dea8>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"200"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["x", 2], ["updated_at", "2023-08-04 06:49:20.037457"], ["id", 200]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.4ms | Allocations: 1874)
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PawnTest: test_Showing_pawn_face
--------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2164)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 11:49:20 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 06:49:27.038642', '2023-08-04 06:49:27.038642'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 06:49:27.038642', '2023-08-04 06:49:27.038642')[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ChessServiceTest: test_left_method_updates_the_direction
--------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ChessServiceTest: test_move_method_updates_the_position
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ChessServiceTest: test_right_method_updates_the_direction
---------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ChessServiceTest: test_place_method_updates_the_position_and_direction
----------------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
PawnTest: test_should_be_valid_with_nil_attributes
--------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_y_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_color_value
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_face_value
--------------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PawnTest: test_should_be_valid_with_valid_attributes
----------------------------------------------------
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_x_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 07:00:14.344299', '2023-08-04 07:00:14.344299'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 07:00:14.344299', '2023-08-04 07:00:14.344299')[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.4ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PawnTest: test_Showing_pawn_face
--------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:15 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.6ms | Allocations: 690)
  Rendered pawns/_command_form.html.erb (Duration: 1.2ms | Allocations: 898)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3376)
  Rendered layouts/_flash.html.erb (Duration: 0.5ms | Allocations: 226)
  Rendered layout layouts/application.html.erb (Duration: 181.2ms | Allocations: 75905)
Completed 200 OK in 195ms (Views: 184.5ms | ActiveRecord: 0.0ms | Allocations: 85599)
Started GET "/assets/application-50d943b05f51ff35937f569e67bb41b013d8f148b361e231068460b6f4c6b44a.css" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/assets/application-df693fa9bf0f2e1b560e900d925434a7ed336e7e18e3dbe8a66cf81e0d8ca961.js" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PawnTest: test_shows_notification_on_command
--------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.4ms | Allocations: 1583)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 2169)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000013a1f3b60>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.5ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 07:00:16.690859"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 2.9ms | Allocations: 1387)
Completed 200 OK in 9ms (Views: 4.5ms | ActiveRecord: 1.0ms | Allocations: 4700)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PawnTest: test_Error_shows_after_wrong_command
----------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:16 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.0ms | Allocations: 2138)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"RIGHTII", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000013c4fb860>, params: {"_method"=>"patch", "command"=>"RIGHTII", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
Redirected to http://127.0.0.1:62687/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 710)
Started GET "/" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 677)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1633)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2268)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh5TURFIg==--7cb5340c691a723799fd64081e3547b52745e977e093a941b68c9e44f68c4251"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_There_is_no_Command_Allowed_before_Place
-------------------------------------------------------
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132417], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1691132417], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 07:00:17.417101"], ["updated_at", "2023-08-04 07:00:17.417101"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1585)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.6ms | Allocations: 2719)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNDE3
Started PATCH "/chess/board/1691132417/process-command" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"1691132417"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132417], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000013a3cadd0>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691132417"} }[0m
Redirected to http://127.0.0.1:62687/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 1095)
Started GET "/" for 127.0.0.1 at 2023-08-04 12:00:17 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132417], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 182)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 622)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1577)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.1ms | Allocations: 2214)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh4TmpreE1UTXlOREUzIg==--ed4620855886b8ee960bafcdf583d0d82dc416dbfc02e4fada7c88f528258b2a"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNDE3
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNDE3
Started PATCH "/chess/board/1691132417/process-command" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "id"=>"1691132417"}
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132417], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012aca1180>, params: {"_method"=>"patch", "command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691132417"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.4ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "y" = $2, "face" = $3, "color" = $4, "updated_at" = $5 WHERE "pawns"."id" = $6[0m  [["x", 0], ["y", 0], ["face", "NORTH"], ["color", "WHITE"], ["updated_at", "2023-08-04 07:00:22.621919"], ["id", 1691132417]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.5ms | Allocations: 1590)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNDE3
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PawnTest: test_There_is_no_Pawn_on_new_game
-------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 64], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 07:00:22.916541"], ["updated_at", "2023-08-04 07:00:22.916541"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1585)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.7ms | Allocations: 2983)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi82NA
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:22 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi82NA
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PawnTest: test_direction_changes_after_LEFT_command
---------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2152)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:00:23 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012af3cb10>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 07:00:23.288354"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.5ms | Allocations: 1750)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_Pawn_position_changes_after_MOVE_command
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2171)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
Started PATCH "/chess/board/200/process-command" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"200"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x00000001078e9da8>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"200"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["x", 2], ["updated_at", "2023-08-04 07:00:24.673682"], ["id", 200]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.3ms | Allocations: 1869)
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------
PawnTest: test_Showing_game_right
---------------------------------
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:24 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2144)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PawnTest: test_Report_shown_in_notification_on_command_REPORT
-------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2150)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"REPORT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x0000000107ab4480>, params: {"_method"=>"patch", "command"=>"REPORT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 189)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 466)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1804)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PawnTest: test_Submitting_MOVE_command
--------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2148)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000011a3ec090>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "y" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["y", 1], ["updated_at", "2023-08-04 07:00:25.748502"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 2346)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:00:25 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 07:06:13.575702', '2023-08-04 07:06:13.575702'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 07:06:13.575702', '2023-08-04 07:06:13.575702')[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.9ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------
PawnTest: test_Error_shows_after_wrong_command
----------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.5ms | Allocations: 692)
  Rendered pawns/_command_form.html.erb (Duration: 0.9ms | Allocations: 800)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 3.5ms | Allocations: 2878)
  Rendered layouts/_flash.html.erb (Duration: 0.4ms | Allocations: 228)
  Rendered layout layouts/application.html.erb (Duration: 137.7ms | Allocations: 33346)
Completed 200 OK in 146ms (Views: 139.7ms | ActiveRecord: 0.0ms | Allocations: 40276)
Started GET "/assets/application-50d943b05f51ff35937f569e67bb41b013d8f148b361e231068460b6f4c6b44a.css" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/assets/application-55a093ad46d148497f6d6e257941e4841dd9612e02f59bb41100208c0a55ee94.js" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"RIGHTII", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012cf46938>, params: {"_method"=>"patch", "command"=>"RIGHTII", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
Redirected to http://127.0.0.1:62769/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms | Allocations: 906)
Started GET "/" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.3ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 678)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 22)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1635)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2277)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh5TURFIg==--7cb5340c691a723799fd64081e3547b52745e977e093a941b68c9e44f68c4251"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------
PawnTest: test_Showing_pawn_face
--------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2159)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_Pawn_position_changes_after_MOVE_command
-------------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:15 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2154)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
Started PATCH "/chess/board/200/process-command" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"200"}
  [1m[36mPawn Load (0.7ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000011d21cd48>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"200"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["x", 2], ["updated_at", "2023-08-04 07:06:16.231488"], ["id", 200]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 1.3ms | Allocations: 1062)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.1ms | Allocations: 2943)
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDA
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------
PawnTest: test_Showing_game_right
---------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1579)
Completed 200 OK in 1ms (Views: 1.0ms | ActiveRecord: 0.0ms | Allocations: 2152)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
PawnTest: test_shows_notification_on_command
--------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.0ms | Allocations: 2146)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000011a6faf20>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.2ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 07:06:16.838741"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 2164)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
PawnTest: test_There_is_no_Command_Allowed_before_Place
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:16 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132776], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 1691132776], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 07:06:17.102305"], ["updated_at", "2023-08-04 07:06:17.102305"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 271)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 634)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1588)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 2702)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNzc2
Started PATCH "/chess/board/1691132776/process-command" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"1691132776"}
  [1m[36mPawn Load (0.4ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132776], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012c5aec90>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691132776"} }[0m
Redirected to http://127.0.0.1:62769/
Completed 302 Found in 1ms (ActiveRecord: 0.4ms | Allocations: 1093)
Started GET "/" for 127.0.0.1 at 2023-08-04 12:06:17 +0500
Processing by PawnsController#chess_board as TURBO_STREAM
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132776], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 182)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 623)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.1ms | Allocations: 2202)
Unsubscribing from channel: {"channel":"Turbo::StreamsChannel","signed_stream_name":"IloybGtPaTh2WTJobGMzTXRZbTloY21RdlVHRjNiaTh4TmpreE1UTXlOemMyIg==--db2304aeebe4cb499c2b6ad8d265c8d514c22c8d4653d3f3a15adec02b3f169b"}
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNzc2
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNzc2
Started PATCH "/chess/board/1691132776/process-command" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "id"=>"1691132776"}
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 1691132776], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012ce14038>, params: {"_method"=>"patch", "command"=>"PLACE 0,0,NORTH,WHITE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"1691132776"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "x" = $1, "y" = $2, "face" = $3, "color" = $4, "updated_at" = $5 WHERE "pawns"."id" = $6[0m  [["x", 0], ["y", 0], ["face", "NORTH"], ["color", "WHITE"], ["updated_at", "2023-08-04 07:06:22.344580"], ["id", 1691132776]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.4ms | Allocations: 1583)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8xNjkxMTMyNzc2
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------
PawnTest: test_direction_changes_after_LEFT_command
---------------------------------------------------
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.5ms | Allocations: 628)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 1581)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2156)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:06:22 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"LEFT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012d6fbc50>, params: {"_method"=>"patch", "command"=>"LEFT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "face" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["face", "WEST"], ["updated_at", "2023-08-04 07:06:22.745547"], ["id", 201]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.3ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.5ms | Allocations: 475)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.6ms | Allocations: 1752)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:23 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
--------------------------------------
PawnTest: test_Submitting_MOVE_command
--------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:23 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:23 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:23 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1580)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 2161)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"MOVE", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.2ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000012b9d1c38>, params: {"_method"=>"patch", "command"=>"MOVE", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Update (0.3ms)[0m  [1m[33mUPDATE "pawns" SET "y" = $1, "updated_at" = $2 WHERE "pawns"."id" = $3[0m  [["y", 1], ["updated_at", "2023-08-04 07:06:24.109061"], ["id", 201]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 199)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 11)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 475)
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.7ms | Allocations: 2421)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
PawnTest: test_There_is_no_Pawn_on_new_game
-------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mPawn Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 95412360], ["LIMIT", 1]]
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 95412360], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPawn Create (0.2ms)[0m  [1m[32mINSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["id", 95412360], ["x", nil], ["y", nil], ["face", nil], ["color", nil], ["created_at", "2023-08-04 07:06:24.339758"], ["updated_at", "2023-08-04 07:06:24.339758"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 187)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 270)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.4ms | Allocations: 633)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 0.8ms | Allocations: 1585)
Completed 200 OK in 3ms (Views: 0.9ms | ActiveRecord: 0.7ms | Allocations: 2968)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi85NTQxMjM2MA
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi85NTQxMjM2MA
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------
PawnTest: test_Report_shown_in_notification_on_command_REPORT
-------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
Started GET "/rack_session/edit" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started PUT "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/rack_session" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/chess/board" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Processing by PawnsController#chess_board as HTML
  [1m[36mCACHE Pawn Load (0.0ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering pawns/chess_board.html.erb within layouts/application
  Rendered pawns/_board.html.erb (Duration: 0.2ms | Allocations: 190)
  Rendered pawns/_command_form.html.erb (Duration: 0.2ms | Allocations: 269)
  Rendered pawns/chess_board.html.erb within layouts/application (Duration: 0.6ms | Allocations: 627)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 18)
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 1579)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 2154)
Started GET "/cable" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
Started PATCH "/chess/board/201/process-command" for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Processing by PawnsController#process_command as TURBO_STREAM
  Parameters: {"command"=>"REPORT", "commit"=>"Submit", "id"=>"201"}
  [1m[36mPawn Load (0.3ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" WHERE "pawns"."id" = $1 LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
[31mUnpermitted parameters: :_method, :commit, :id. Context: { controller: PawnsController, action: process_command, request: #<ActionDispatch::Request:0x000000011a68a680>, params: {"_method"=>"patch", "command"=>"REPORT", "commit"=>"Submit", "controller"=>"pawns", "action"=>"process_command", "id"=>"201"} }[0m
  Rendering pawns/process_command.turbo_stream.erb
  Rendered pawns/_board.html.erb (Duration: 0.1ms | Allocations: 189)
  Rendered layouts/_flash.html.erb (Duration: 0.0ms | Allocations: 12)
  Rendered pawns/process_command.turbo_stream.erb (Duration: 0.3ms | Allocations: 466)
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.3ms | Allocations: 1751)
Finished "/cable" [WebSocket] for 127.0.0.1 at 2023-08-04 12:06:24 +0500
Turbo::StreamsChannel stopped streaming from Z2lkOi8vY2hlc3MtYm9hcmQvUGF3bi8yMDE
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "pawns" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[31mDELETE FROM "pawns";
INSERT INTO "pawns" ("id", "x", "y", "face", "color", "created_at", "updated_at") VALUES (200, 1, 1, 'EAST', 'WHITE', '2023-08-04 07:06:29.856518', '2023-08-04 07:06:29.856518'), (201, 0, 0, 'NORTH', 'BLACK', '2023-08-04 07:06:29.856518', '2023-08-04 07:06:29.856518')[0m
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mALTER TABLE "pawns" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.8ms)[0m  [1m[35mdo $$
  declare r record;
BEGIN
FOR r IN (
  SELECT FORMAT(
    'UPDATE pg_constraint SET convalidated=false WHERE conname = ''%I'' AND connamespace::regnamespace = ''%I''::regnamespace; ALTER TABLE %I.%I VALIDATE CONSTRAINT %I;',
    constraint_name,
    table_schema,
    table_schema,
    table_name,
    constraint_name
  ) AS constraint_check
  FROM information_schema.table_constraints WHERE constraint_type = 'FOREIGN KEY'
)
  LOOP
    EXECUTE (r.constraint_check);
  END LOOP;
END;
$$;
[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------
ChessServiceTest: test_place_method_updates_the_position_and_direction
----------------------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------
ChessServiceTest: test_move_method_updates_the_position
-------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
ChessServiceTest: test_right_method_updates_the_direction
---------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
ChessServiceTest: test_left_method_updates_the_direction
--------------------------------------------------------
  [1m[36mPawn Load (0.1ms)[0m  [1m[34mSELECT "pawns".* FROM "pawns" ORDER BY "pawns"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_x_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_y_value
-----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_color_value
---------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------
PawnTest: test_should_be_invalid_with_invalid_face_value
--------------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------
PawnTest: test_should_be_valid_with_valid_attributes
----------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------
PawnTest: test_should_be_valid_with_nil_attributes
--------------------------------------------------
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
